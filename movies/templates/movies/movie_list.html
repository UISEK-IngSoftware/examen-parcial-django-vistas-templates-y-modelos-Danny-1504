{% extends 'movies/base.html' %}

{% block content %}
    <div class="page-header">
        <h2>Cat√°logo de Pel√≠culas</h2>
        <a href="{% url 'movies:movie_create' %}" class="btn btn-primary">
            ‚ûï Agregar Pel√≠cula
        </a>
    </div>
    
    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div class="message {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}
    
    <div class="movie-list">
        {% for movie in movies %}
            <div class="movie-card">
                <div class="movie-content">
                    <div class="movie-title">{{ movie.title }}</div>
                    <div class="movie-info">
                        <span class="movie-year">{{ movie.publication_year }}</span>
                        <span class="movie-genre">{{ movie.genre }}</span>
                        <span class="movie-director">{{ movie.director }}</span>
                    </div>
                    <div class="movie-synopsis-preview">
                        {{ movie.synopsis|truncatewords:20 }}
                    </div>
                </div>
                
                <div class="movie-actions">
                    <a href="{% url 'movies:movie_detail' movie.id %}" class="btn btn-view">
                        üëÅÔ∏è Ver
                    </a>
                    <a href="{% url 'movies:movie_edit' movie.id %}" class="btn btn-edit">
                    ‚úèÔ∏è Editar
                    </a>
                    <a href="{% url 'movies:movie_delete' movie.id %}" class="btn btn-delete">
                        üóëÔ∏è Eliminar
                    </a>
                </div>
            </div>
        {% empty %}
            <div class="no-movies">
                <p>No hay pel√≠culas en el cat√°logo.</p>
                <a href="{% url 'movies:movie_create' %}" class="btn btn-primary">
                    ‚ûï Agregar la primera pel√≠cula
                </a>
            </div>
        {% endfor %}
    </div>
{% endblock %}